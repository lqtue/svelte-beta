{"version":3,"file":"vertex-shader.glsl.js","sources":["../../../src/shaders/points/vertex-shader.glsl"],"sourcesContent":["#version 300 es\n\nprecision highp float;\n\n#include ../helpers.frag;\n\nuniform mat4 u_renderHomogeneousTransform;\nuniform float u_animationProgress;\n\nin float a_viewportSize;\nin vec4 a_color;\nin float a_viewportBorderSize;\nin vec4 a_borderColor;\n\nin vec2 a_clipPoint;\nin vec2 a_clipPreviousPoint;\n\nout float v_viewportSize;\nout vec4 v_color;\nout float v_viewportBorderSize;\nout vec4 v_borderColor;\nout float v_viewportFeatherSize;\nout float v_viewportTotalSize;\n\nvoid main() {\n  vec2 clipPoint = mix(a_clipPreviousPoint, a_clipPoint, easing(u_animationProgress));\n\n  gl_Position = u_renderHomogeneousTransform * vec4(clipPoint, 0.0f, 1.0f);\n\n  v_viewportFeatherSize = 1.0;\n\n  v_viewportTotalSize = a_viewportSize + a_viewportBorderSize + v_viewportFeatherSize;\n  gl_PointSize = v_viewportTotalSize;\n  // gl_PointSize is the diameter of the point.\n  // The border is centered on the edge of a point with diameter = size\n  // so adding half a border left and half a border right\n  // results in adding a full border to the total size.\n  // Also adding half an outside feather left and half an outside feather right,\n  // which also serves as minimal size.\n  // Note: there seems to be a maximum size of 512? Could be due to graphics card (or Float32Array)?\n\n  v_viewportSize = a_viewportSize;\n  v_color = a_color;\n  v_viewportBorderSize = a_viewportBorderSize;\n  v_borderColor = a_borderColor;\n}\n"],"names":[],"mappings":"AAAA,IAAA,wBAAA;"}